---
title: 字节
createTime: 2025/04/04 19:25:46
permalink: /interview/31czes7z/
---

# 字节

## 国际商业化

### 一面

1. 自我介绍
2. 容灾降级策略，容灾切换到了另外一个接口，不会违背了用户的请求吗
3. 场景：ai接口能不能并发
4. 如何设计一个熔断器，比如openai接口挂了（请求数，恢复时间）
5. 设计一个熔断切换的逻辑，怎么切换（超过了一定值，优先级可以根据请求动态调整）
6. 大概有哪些令牌桶，相关的逻辑有哪些，上一秒令牌没有使用完，下一秒又放多个令牌（实际开发的时候，不需要专门做放令牌到桶里这件事，只需要在获取令牌前，比较一下时间戳与当前时间，就能算出需要放入多少令牌）
7. 描述一个sql优化内容，单表拆为了多表
8. 提升百分之20怎么得出的
9. 说一下本地任务队列导致数据丢失的问题，图表id作为rabbitmq的信息
10. 场景：线程池有10个工作线程，设计带超时功能的线程池（没答上来，1. 编写守护线程，来关闭当前线程，2. 使用future来实现）
11. 半包和粘包怎么发现和如何解决这个问题的
12. 如何设定请求头的长度，怎么知道这个长度的设置是合理的（也没答上来 ）
13. 自定义的RPC框架有哪些可以分享一下，我选了注册中心，选Etcd作为注册中心
14. 服务发现怎么做的
15. 一致性哈希是什么场景，节点挂了怎么办，谁去维护一致性哈希的环状结构（答的是注册中心）
16. 手撕：二叉树的层序遍历（必须用DFS）
17. 反问：业务，结果，面试官对我的评价



### 二面

有实习过吗

项目是学校的项目

智能数据分析平台具体解决什么问题，或者应用于什么场景

具体分析的数据是什么

接口错误率具体是怎么优化

如何智能地切换接口，说一下当时写的具体的策略逻辑

平台耗时平均是多少

Spring框架的优点

AOP的具体的原理是什么，具体怎么做，在实际的项目中，具体能带来什么提效（答得不是很好）

IOC具体的优势是什么，说一下具体的优点

为什么IOC会减少耦合性

没有bean的话，写代码会怎么实现

项目里面有用到锁

Java里面有哪些锁，分别用在什么场景（面试官：不要只抛一个名词，具体说一下什么场景）

读写锁怎么实现多读，写只能互斥

自旋锁怎么实现的，不阻塞的话怎么答到（答得太糟糕了）

说一下堆排序的原理，怎么实现的

手撕：堆排序

手撕：[151. 反转字符串中的单词](https://leetcode.cn/problems/reverse-words-in-a-string/)（空间复杂度O(1)，用`StreamBuilder`似乎空间复杂度不满足）



挂

### 暑期一面

挂

为什么只实习了2个月

挑一个项目讲一下

技术亮点在哪里

MySQL数据库有三个事务，只执行了2个是什么原因
